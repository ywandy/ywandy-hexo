---
title: 一步一步构建Hyperledger composer 开发环境 (一)
date: 2018-08-15 14:17:51
tags:
    - 区块链
    - hyperledger
    - composer
    - nodejs
categories: 
    - 编程笔记
---

## 什么是Hyperledger Composer: 
- Hyperledger Composer是一个广泛的开放式开发工具集和框架，可以更轻松地开发区块链应用程序。Hyperledger Composer的主要目标是加快实现价值的速度，并使区块链应用程序与现有业务系统的集成变得更加容易。我们可以使用Composer快速开发用例并在数周内而不是数月内部署区块链解决方案。
- Hyperledger Composer允许您对业务网络进行建模，并将现有系统和数据与区块链应用程序集成。  
- Hyperledger Composer支持现有的Hyperledger Fabric区块链基础架构和运行时  
- Hyperledger Composer支持可插入的区块链共识协议，以确保指定的业务网络参与者根据策略验证事务。  
- 日常应用程序可以使用来自业务网络的数据，为最终用户提供简单且受控的访问点。  
- 您可以使用Hyperledger Composer快速建模您当前的业务网络，包含您现有的资产以及与之相关的交易; 资产是有形或无形的商品，服务或财产。作为业务网络模型的一部分，您可以定义可与资产交互的事务。业务网络还包括与多个业务网络交互的参与者，每个参与者可以与唯一身份相关联。  
### Hyperledger Composer的示意图:  
![BNA Overview-2018815](http://owm7tyxac.bkt.clouddn.com/BNA%20Overview-2018815.png)
### Hyperledger Composer的基本概念:
- **区块链状态存储(Blockchain State Storage)**:  
    通过业务网络提交的所有事务都存储在区块链分类账中，资产和参与者的当前状态存储在区块链状态数据库中。区块链将分类帐和状态数据库分布在一组对等方中，并使用一致性算法确保对所有对等方的分类帐和状态数据库的更新是一致的。  
- **连接配置文件(Connection Profiles)**:  
    Hyperledger Composer使用连接配置文件定义要连接的系统。连接配置文件是JSON文档，它是业务网卡的一部分。这些配置文件通常由它们引用的系统的创建者提供，并且应该用于创建业务网卡以便能够连接到该系统。  
- **资产(Assets)**:  
    资产是有形或无形的商品，服务或财产，存储在注册管理机构中。资产几乎可以代表商业网络中的任何内容，例如，待售房屋，销售清单，该房屋的土地登记证书，以及该房屋的保险单据都可以是一个或多个商业网络中的资产,资产必须具有**唯一标识符**，但除此之外，它们可以包含您定义的任何属性。资产可能与其他资产或参与者有关.  
- **参与者(Participants)**:  
    参与者是商业网络的成员。他们可能拥有资产并提交交易。参与者类型是建模的，与资产一样，必须具有标识符，并且可以根据需要具有任何其他属性。参与者可以映射到一个或多个身份。  
- **身份(Identities)**:  
    身份是数字证书和私钥。身份用于在业务网络上进行交易，并且必须映射到业务网络中的参与者。单个身份存储在业务网卡中，如果该身份已映射到参与者，则允许该业务网卡的用户作为该参与者在业务网络上进行交易。  
- **商务网卡(Business Network cards)**:  
    业务网卡是身份，连接配置文件和元数据的组合，元数据可选地包含要连接的业务网络的名称。业务网卡简化了连接到业务网络的过程，并将业务网络外的身份概念扩展到身份的“钱包”，每个身份与特定的业务网络和连接配置文件相关联。  
- **交易(Transactions)**:  
    事务是参与者与资产交互的机制。这可以简单到参与者在拍卖中对资产进行投标，或者标记拍卖结束的拍卖者，自动将资产的所有权转移给最高出价者。
- **查询(Queries)**:  
    查询用于返回有关区块链世界状态的数据。查询在业务网络中定义，并且可以包括用于简单定制的变量参数。通过使用查询，可以轻松地从区块链网络中提取数据。使用Hyperledger Composer API发送查询。  
- **活动(Events)**:  
    事件在业务网络定义中以与资产或参与者相同的方式定义。一旦定义了事件，它们就可以由事务处理器函数发出，以向外部系统指示分类账发生了重要的事情。应用程序可以通过composer-clientAPI 订阅发出的事件。
- **访问控制(Access Control)**:  
    业务网络可以包含一组访问控制规则。访问控制规则允许对参与者可以访问业务网络中的哪些资产以及在什么条件下进行细粒度控制。访问控制语言足够丰富，可以声明性地捕获复杂的条件，例如“只有车辆的所有者才能转让车辆的所有权”。从事务处理器功能逻辑外部化访问控制使得检查，调试，开发和维护变得更加容易。  
- **历史记录(Historian registry)**:  
    历史记录是一个专门的注册表，记录成功的交易，包括提交它们的参与者和身份。历史记录将事务存储为HistorianRecord资产，这些资产在Hyperledger Composer系统命名空间中定义。